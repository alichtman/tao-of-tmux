

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Terminal fundamentals {#terminal-fundamentals} &mdash; tao-of-tmux v1.0.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'v1.0.2',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Practical usage {#practical-usage}" href="03-practical-usage.html" />
    <link rel="prev" title="Thinking in tmux {#thinking-tmux}" href="01-thinking-tmux.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> tao-of-tmux
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="00-foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="01-thinking-tmux.html">Thinking in tmux {#thinking-tmux}</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Terminal fundamentals {#terminal-fundamentals}</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#posix-standards">POSIX standards</a></li>
<li class="toctree-l2"><a class="reference internal" href="#terminal-interface">Terminal interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#terminal-emulators">Terminal emulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shell-languages-shell-languages">Shell languages {#shell-languages}</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shell-interpreters-shells-shells">Shell interpreters (Shells) {#shells}</a></li>
<li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="03-practical-usage.html">Practical usage {#practical-usage}</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-server.html">Server {#server}</a></li>
<li class="toctree-l1"><a class="reference internal" href="05-session.html">Sessions {#sessions}</a></li>
<li class="toctree-l1"><a class="reference internal" href="06-window.html">Windows {#windows}</a></li>
<li class="toctree-l1"><a class="reference internal" href="07-pane.html">Panes {#panes}</a></li>
<li class="toctree-l1"><a class="reference internal" href="08-configuration.html">Configuration {#config}</a></li>
<li class="toctree-l1"><a class="reference internal" href="09-status-bar.html">Status bar and styling {#status-bar}</a></li>
<li class="toctree-l1"><a class="reference internal" href="10-scripting.html">Scripting tmux {#scripting-tmux}</a></li>
<li class="toctree-l1"><a class="reference internal" href="11-tips-and-tricks.html">Tips and tricks {#tips-and-tricks}</a></li>
<li class="toctree-l1"><a class="reference internal" href="12-takeaway.html">Takeaway {#takeaway}</a></li>
<li class="toctree-l1"><a class="reference internal" href="99-cheatsheets.html">Appendix: Cheatsheets {#appendix-cheatsheets}</a></li>
<li class="toctree-l1"><a class="reference internal" href="99-installation.html">Appendix: Installing tmux {#appendix-installation}</a></li>
<li class="toctree-l1"><a class="reference internal" href="99-windows-bash.html">Appendix: tmux on Windows 10 {#appendix-windows-bash}</a></li>
<li class="toctree-l1"><a class="reference internal" href="99-troubleshooting.html">Appendix: Troubleshooting {#appendix-troubleshooting}</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">tao-of-tmux</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Terminal fundamentals {#terminal-fundamentals}</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/manuscript/02-terminal-fundamentals.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="terminal-fundamentals-terminal-fundamentals">
<h1>Terminal fundamentals {#terminal-fundamentals}<a class="headerlink" href="#terminal-fundamentals-terminal-fundamentals" title="Permalink to this headline">¶</a></h1>
<p>Before getting into tmux, a few fundamentals of the command line should be
reviewed. Often, we’re so used to using these out of street smarts and muscle
memory, a great deal of us never see the relation of where these tools stand
next to each other.</p>
<p>Seasoned developers are familiar with Zsh, Bash, iTerm2, konsole, /dev/tty,
shell scripting, and so on. If you use tmux, you’ll be around these all the
time, regardless whether you’re in a GUI on a local machine or SSH’ing
into a remote server.</p>
<p>If you want to learn more about how processes and TTYs work at the kernel level
(data structures and all), the book <a class="reference external" href="http://amzn.to/2iTmVyv"><em>The Design and Implementation of the FreeBSD
Operating System (2nd Edition)</em></a> by Marshall Kirk
McKusick is nice, particularly, Chapter 4, <em>Process Management</em> and Section
8.6, <em>Terminal Handling</em>. <a class="reference external" href="http://www.linusakesson.net/programming/tty/index.php"><em>The TTY demystified</em></a>
by Linus Åkesson (available online) dives into the TTY and is a good read.</p>
<p>Much more exists to glean off the history of Unix, 4.2 BSD, etc. I probably
could have a coffee / tea with you discussing it for hours. You could look at it
from multiple perspectives (The C Language, anything from the Unix/BSD lineage,
etc.), and some clever fellow would likely chime in, mentioning Linux, GNU, and
so on. It’s like <em>Game of Thrones</em>; there’s multiple story arcs you can follow,
some of which intersect. A few good video resources would be <a class="reference external" href="https://www.youtube.com/watch?v=bVSXXeiFLgk"><em>A Narrative History of BSD</em></a>
by Marshall Kirk McKusick, <a class="reference external" href="https://www.youtube.com/watch?v=tc4ROCJYbm0"><em>The UNIX Operating System</em></a>
by AT&amp;T, <a class="reference external" href="https://www.youtube.com/watch?v=FI_bZhV7wpI"><em>Early days of Unix and design of sh</em></a>
by Stephen R. Bourne.</p>
<div class="section" id="posix-standards">
<h2>POSIX standards<a class="headerlink" href="#posix-standards" title="Permalink to this headline">¶</a></h2>
<p>Operating systems like macOS (formerly OS X), Linux, and the BSDs, follow
something similar to the POSIX specification in terms of how they square away
various responsibilities and interfaces of the operating system. They’re
categorized as <a class="reference external" href="https://en.wikipedia.org/wiki/POSIX#Mostly_POSIX-compliant">“Mostly POSIX-compliant”</a>.</p>
<p>In daily life, we often break compatibility with POSIX standards for reasons of
sheer practicality. Operating systems, like macOS, will drop you right into Bash.
<a class="reference external" href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/make.html"><code class="docutils literal notranslate"><span class="pre">make(1)</span></code></a>,
a POSIX standard, is <a class="reference external" href="https://www.gnu.org/software/make/">GNU Make</a> on macOS by
default. Did you know, as of September 2016, POSIX Make has no conditionals?</p>
<p>I’m not saying this to take a run at purists. As someone who tries to remain
compatible in my scripting, it gets hard to do simple things after a while. On
FreeBSD, the default Make <a class="reference external" href="https://www.freebsd.org/doc/en_US.ISO8859-1/books/pmake/">(PMake)</a>
uses dots between conditionals:</p>
<p>{line-numbers=off}
.IF</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">ENDIF</span>
</pre></div>
</div>
<p>But on most Linux systems and macOS, GNU Make is the default, so they get to do:</p>
<p>{line-numbers=off}
IF</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ENDIF</span>
</pre></div>
</div>
<p>This is one of the many tiny inconsistencies that span operating systems, their
userlands, their binary / library /  include paths, and adherence /
interpretation of the <a class="reference external" href="https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard">Filesystem Hierarchy Standard</a>
or whether they follow their own.</p>
<p>I&gt; <strong>Find your path</strong>
I&gt;
I&gt; Most operating systems inspired by Unix (BSD’s, macOS, Linux) will allow you
I&gt; to get the info of your systems’ filesystem hierarchy via <a class="reference external" href="https://www.freebsd.org/cgi/man.cgi?hier(7)"><code class="docutils literal notranslate"><span class="pre">hier(7)</span></code></a>.
I&gt;
I&gt; {language=shell, line-numbers=off}
I&gt;     $ man hier</p>
<p>These differences add up. A good deal of software infrastructure out
there exists solely to abstract the differences across them. For example: CMake,
Autotools, SFML, SDL2, interpreted programming languages, and their standard
libraries are dedicated to normalizing the banal differences across
BSD-derivatives and Linux distributions. Many, many <code class="docutils literal notranslate"><span class="pre">#ifdef</span></code> preprocessor
directives in your C and C++ applications. You want open source, you get choice,
but be aware; there’s a lot of upkeep cost in keeping these upstream projects
(and even your personal ones) compatible. But I digress, back to terminal stuff.</p>
<p>Why does it matter? Why bring it up? You’ll see this stuff everywhere.
So, let’s separate the usual suspects into their respective categories.</p>
</div>
<div class="section" id="terminal-interface">
<h2>Terminal interface<a class="headerlink" href="#terminal-interface" title="Permalink to this headline">¶</a></h2>
<p>The terminal interface can be best introduced by citing official specification,
laying out its technical properties, interfaces, and responsibilities. This can
be viewed in its <a class="reference external" href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap11.html">POSIX specification</a>.</p>
<p>This includes TTYs, including text terminals and X sessions within them. On
Linux / BSD systems, you can switch between sessions via <code class="docutils literal notranslate"><span class="pre">&lt;ctrl-alt-F1&gt;</span></code>
through <code class="docutils literal notranslate"><span class="pre">&lt;ctrl-alt-F12&gt;</span></code>.</p>
</div>
<div class="section" id="terminal-emulators">
<h2>Terminal emulators<a class="headerlink" href="#terminal-emulators" title="Permalink to this headline">¶</a></h2>
<p>GUI Terminals: Terminal.app, iterm, iterm2, konsole, lxterm, xfce4-terminal,
rxvt-unicode, xterm, roxterm, gnome terminal, cmd.exe + bash.exe</p>
</div>
<div class="section" id="shell-languages-shell-languages">
<h2>Shell languages {#shell-languages}<a class="headerlink" href="#shell-languages-shell-languages" title="Permalink to this headline">¶</a></h2>
<p>Shell languages are programming languages. You may not compile the code
into binaries with <a class="reference external" href="https://gcc.gnu.org/"><code class="docutils literal notranslate"><span class="pre">gcc</span></code></a> or <a class="reference external" href="http://clang.llvm.org/"><code class="docutils literal notranslate"><span class="pre">clang</span></code></a>,
or have shiny <a class="reference external" href="https://www.npmjs.com/">npm</a> package manager for them, but a
language is a language.</p>
<p>Each shell interpreter has its own language features. Like with shells, many
will resemble the <a class="reference external" href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_01">POSIX shell language</a>
and strive to be compatible with it. Zsh and Bash should be able to understand
POSIX shell scripts you write, but not the other way around (we will cover this
in <a class="reference external" href="#shells">shell interpreters</a>).</p>
<p>The first line of shell file is the <a class="reference external" href="https://en.wikipedia.org/wiki/Shebang_(Unix)">shebang</a>
statement, which points to the interpreter to run the script in. They normally
use the <code class="docutils literal notranslate"><span class="pre">.sh</span></code> extension, but they can also be <code class="docutils literal notranslate"><span class="pre">.zsh</span></code>, <code class="docutils literal notranslate"><span class="pre">.csh</span></code> and so on if
they’re for a specific interpreter.</p>
<p>Zsh scripts are implemented by the Zsh shell interpreter, Bash scripts by Bash.
But the languages are not as closely regulated and standardized as, say, <a class="reference external" href="http://www.open-std.org/jtc1/sc22/wg21/">C++’s
standards committee</a> workgroups or
<a class="reference external" href="https://www.python.org/dev/peps/">python’s PEPs</a>. Bash and Zsh take features
from Korn and C Shell’s languages, but without all the ceremony and bureaucracy
other languages espouse.</p>
</div>
<div class="section" id="shell-interpreters-shells-shells">
<h2>Shell interpreters (Shells) {#shells}<a class="headerlink" href="#shell-interpreters-shells-shells" title="Permalink to this headline">¶</a></h2>
<p>Examples: POSIX sh, Bash, Zsh, csh, tcsh, ksh, fish</p>
<p>Shell interpreters <em>implement</em> the shell language. They are a layer on top of
the kernel and are what allow you, interactively, to run commands and
applications inside them.</p>
<p>As of October 2016, the <a class="reference external" href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/sh.html">latest POSIX specification</a>
covers in technical detail the responsibilities of the shell.</p>
<p>For shells and operating systems: each distro or group does their own darn
thing. On most Linux distributions and macOS, you’ll typically be dropped into
Bash.</p>
<p>On FreeBSD, you may default to a plain vanilla <code class="docutils literal notranslate"><span class="pre">sh</span></code> unless you specify
otherwise during the installation process. In Ubuntu, <code class="docutils literal notranslate"><span class="pre">/bin/sh</span></code> used to be
<code class="docutils literal notranslate"><span class="pre">bash</span></code> (<a class="reference external" href="https://en.wikipedia.org/wiki/Bourne_shell">Bourne Again Shell</a>) but
was <a class="reference external" href="https://wiki.ubuntu.com/DashAsBinSh">replaced with <code class="docutils literal notranslate"><span class="pre">dash</span></code></a>
(<a class="reference external" href="https://en.wikipedia.org/wiki/Almquist_shell">Debian Almquist Shell</a>). So,
here, you are thinking “hmm, <code class="docutils literal notranslate"><span class="pre">/bin/sh</span></code>, probably just a plain old POSIX shell”;
however, system startup scripts on Ubuntu used to allow non-POSIX scripting
via Bash. This is because specialty <a class="reference external" href="#shell-languages">shell languages</a>, such as
Bash and Zsh, add helpful and practical features, but they’re not portable.
For instance, you would need to install the Zsh interpreter across all your
systems if you rely on Zsh-specialized scripting. If you conformed with POSIX
shell scripting, your scripting would have the highest level of compatibility
at the cost of being more verbose.</p>
<p>Recent versions of macOS include Zsh by default. Linux distributions
typically require you to install it via package manager and install it to
<code class="docutils literal notranslate"><span class="pre">/usr/bin/zsh</span></code>. BSD systems build it via the port system, <a class="reference external" href="https://www.freebsd.org/cgi/man.cgi?query=pkg&amp;apropos=0&amp;sektion=0&amp;manpath=FreeBSD+10.3-RELEASE+and+Ports&amp;arch=default&amp;format=html"><code class="docutils literal notranslate"><span class="pre">pkg(8)</span></code></a>
on FreeBSD, or <a class="reference external" href="http://man.openbsd.org/pkg_add.1"><code class="docutils literal notranslate"><span class="pre">pkg_add(1)</span></code></a> on OpenBSD,
and it will install to <code class="docutils literal notranslate"><span class="pre">/usr/local/bin/zsh</span></code>.</p>
<p>It’s fun to experiment with different shells. On many systems, you can use
<a class="reference external" href="https://en.wikipedia.org/wiki/Chsh"><code class="docutils literal notranslate"><span class="pre">chsh</span> <span class="pre">-s</span></code></a> to update the default shell for
a user.</p>
<p>The other thing to mention is, for <code class="docutils literal notranslate"><span class="pre">chsh</span> <span class="pre">-s</span></code> to work, you typically need to have
it added to <a class="reference external" href="https://bash.cyberciti.biz/guide//etc/shells"><code class="docutils literal notranslate"><span class="pre">/etc/shells</span></code></a>.</p>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>To wrap it up, you will hear people talking about shells all the time.
Context is key. It could be:</p>
<ul class="simple">
<li>A generic way to refer to any terminal you have open. “Type <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">top</span></code> into your
shell and see what happens.” (Press q to quit.)</li>
<li>A server they have to log into. Before the era of the cloud, it would be
popular for small hosts to sell “C Shells” with root access.</li>
<li>A shell within a tmux <a class="reference external" href="#panes">pane</a>.</li>
<li>If scripting is mentioned, it is likely either the script file, an issue
related to the scripts’ behavior, or something about the shell language.</li>
</ul>
<p>But overall, after this overview, go back to doing what you’re doing. If shell
is what people say and they understand it, use it. The backing you have here
should make you more confident in yourself. These days, it’s an ongoing battle
catching our street smarts up with book smarts.</p>
<p>In the next chapter, we will touch some terminal basics before diving
deeper into tmux.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="03-practical-usage.html" class="btn btn-neutral float-right" title="Practical usage {#practical-usage}" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="01-thinking-tmux.html" class="btn btn-neutral float-left" title="Thinking in tmux {#thinking-tmux}" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Tony Narlock

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>